{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","newFilter","handleChange","value","onChange","PersonForm","props","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Person","name","number","handleClick","onClick","Persons","personsToShow","map","person","key","id","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","errorMessage","className","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","setMessage","setErrorMessage","useEffect","personService","initialPersons","filter","toLowerCase","includes","event","target","preventDefault","some","window","confirm","find","p","changedPerson","returnedPerson","setTimeout","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.371c2c47.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({newFilter, handleChange}) => {\r\n  return (\r\n    <div>\r\n      filter shown with\r\n      <input\r\n        value={newFilter}\r\n        onChange={handleChange}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;","import React from 'react';\r\n\r\nconst PersonForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.addPerson}>\r\n      <div>\r\n        name: \r\n        <input\r\n          value={props.newName}\r\n          onChange={props.handleNameChange}\r\n        />\r\n      </div>\r\n      <div>\r\n        number:\r\n        <input\r\n          value={props.newNumber}\r\n          onChange={props.handleNumberChange}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;","import React from 'react';\r\n\r\nconst Person = ({ name, number, handleClick }) => {\r\n  return (\r\n    <div>\r\n      <span>{name} {number}</span>\r\n      <button onClick={handleClick}>Delete</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react';\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ personsToShow, handleClick }) => {\r\n  return (\r\n    <div>\r\n      {personsToShow.map(person =>\r\n        <Person \r\n          key={person.name} \r\n          name={person.name} \r\n          number={person.number}\r\n          handleClick={() => handleClick(person.id)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, deletePerson, update }","import React from 'react'\r\n\r\nconst Notification = ({ message, errorMessage }) => {\r\n  if (message === null && errorMessage === null) {\r\n    return null\r\n  }\r\n\r\n  if (message !== null) {\r\n    return (\r\n      <div className=\"message\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  return (\r\n    <div className=\"error\">\r\n      {errorMessage}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [message, setMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n        .then(initialPersons => {\n          setPersons(initialPersons)\n        })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if (persons.some(person => person.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const person = persons.find(p => p.name === newName)\n        const changedPerson = { ...person, number: newNumber}\n\n        const id = person.id\n\n        personService\n          .update(id, changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n            setMessage(\n              `Updated ${person.name}'s phonenumber`\n            )\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(\n              `Information of ${person.name} has already been removed from server`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n            setPersons(persons.filter(p => p.id !== id))\n          })\n      }\n    }\n    else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setMessage(\n            `Added ${newName}`\n          )\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setErrorMessage(error.response.data)\n        })\n    }\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const handleDelete = id => {\n    const person = persons.find(p => p.id === id)\n\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService\n      .deletePerson(id)\n      .then(() => {\n        setPersons(persons.filter(p => p.id !== id))\n        setMessage(\n          `Deleted ${person.name}`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n    }\n  }\n\n  const personsToShow = persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={message} errorMessage={errorMessage}/>\n      \n      <Filter \n        newFilter={newFilter}\n        handleChange={handleFilterChange}  \n      />\n\n      <h2>Add new</h2>\n      \n      <PersonForm \n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        addPerson={addPerson}\n      />\n\n      <h2>Numbers</h2>\n      \n      <Persons \n        personsToShow={personsToShow}\n        handleClick={handleDelete}\n      />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}